一、 检查linux内核
uname -a
lsb_release -a

二、 用户进程可打开文件数限制
1) vim /etc/security/limits.conf
*       -      nofile           65535
*       -      nproc           65535

在/etc/security/limits.d/90-nproc.conf中修改最大文件数和进程数
*   soft  nproc   65534
*   hard  nproc   65534

ulimit -a

2) vim /etc/pam.d/login
[root@tcl-inside2 ~]# vim /etc/pam.d/login
session required /lib64/security/pam_limits.so

3) cat /proc/sys/fs/file-max
查看Linux系统级的最大打开文件数限制

4) less /etc/profile
在文件中查找是否使用了ulimit-n限制了用户可同时打开的最大文件数量，如果找到，则删除这行命令

三、放开内核对TCP连接的限制
1) 装载ip_conntrack模块
因为内核没有加载ip_conntrack模块，手动加载即可：
modprobe ip_conntrack （手动装载模块）
echo "modprobe ip_conntrack" >> /etc/rc.local（添加自启动）

2) vim /etc/sysctl.conf 
[root@tcl-inside2 ~]# vim /etc/sysctl.conf
net.ipv4.ip_local_port_range = 1024 65000
net.nf_conntrack_max=655360
net.netfilter.nf_conntrack_tcp_timeout_established=10

3) sysctl -p
执行sysctl命令：sysctl -p
